/*
  Molecules of the Atomic web design
  - atoms combined together
  - they do one thing and do it well
*/





/* Grid
--------------------------------------------------------------------------------
*/

/* The width of the content
  - the content is centered with automatic left and right margins
*/
@mixin container {
  width: $container-width;
  margin: 0 $container-margin;
  
  @include above-large-screen {
    width: $large-screen-container-width;
    margin: 0 $large-screen-container-margin;
  }
}


/* Hide a section title
*/
@mixin hide-title {
  > h3 {
    display: none;
  }
}



/* Flexible grid
  - all items are aligned left with an uniform margin
  - this grid can be dynamically positioned by Isotope
*/
@mixin flexible-grid($max-width: $flexible-grid-width, $margin: $flexible-grid-margin) {
  width: auto;
  float: left;
  
  max-width: $max-width;
  margin: $margin/2 $margin 0 0;
  
  @include below-and-tablet {
    @include block;
  }
}




/* Adds padding around a grid element
  - the width of the element must be recalculated
*/
@mixin padding($width: 100%) {
  padding: $pad;
  @include grid-resize($width, $pad*2);
}


/* Resize a grid column 
*/
@mixin grid-resize($width, $resize) {
  width: calc(#{$width} - #{$resize})
}



/* A responsive grid
*/
@mixin responsive-grid($how-many, $maximum : 10) {
  @include below-and-tablet {
    @include col(100%, 0);
  }
  
  @include small-screen {
    @include grid(2, $maximum);
  }
  
  @include normal-screen-and-above {
    @include grid($how-many, $maximum);
  }
}


/* Generates a full grid of $how-many columns and $maximum elements
  - calculates automatically the columns size and margin
  - the right margin of the last element in a row is set to zero
  - $maximum sets how many articles will be displayed on a single page 
*/
@mixin grid($how-many, $maximum) {
  $gutter: col-gutter($how-many);
  $width: col-width($how-many);
  
  @include col($width, $gutter);
  @include col-right-margin($how-many, $gutter, $maximum);
}


/* Returns the width of a column in a grid
*/
@function col-width($how-many) {
  @return floor(90% / $how-many);
}

/* Returns the margin of a column in a grid
*/
@function col-gutter($how-many) {
  @return 10% / ($how-many - 1);
}


/* A left aligned column
*/
@mixin col($width, $margin: 0) {
  width: $width;
  margin-right: $margin;
  float: left;
}

/* Remove right margin of the last element in a row of a grid
  - on responsive layouts we setup upd different grids
  - on every grid re-declaration the previous margins of last elements must be removed
*/
@mixin col-right-margin($how-many, $gutter, $maximum) {
  @for $i from 2 through $maximum {
    @if (($how-many != 0) and (($i % $how-many) == 0)) {
      &:nth-of-type(#{$i}) {
         margin-right: 0;
      }
    } @else {
      &:nth-of-type(#{$i}) {
         margin-right: $gutter;
      }
    }
  }
}






/* Navigation
--------------------------------------------------------------------------------
*/

/* Displays an <ul> list inline
*/
@mixin list-inline($margin-right: $pad/2) {
  li {
    display: inline-block;
    float: left;
    margin-right: $margin-right;
    
    &:last-of-type {
      margin-right: 0;
    }  
  }
}

/* Transforms an inline list back to normal
*/
@mixin list-normal {
  li {
    display: block;
    margin-right: none;
    float: none;
  }
}


/* Centers an inline list
*/
@mixin list-centered {
  text-align: center;
  margin: 0 auto;
  width: -webkit-fit-content;
  width: -moz-fit-content;
  width: fit-content;
}

/* Highlights an active item in a list / menu
*/
@mixin list-menu($display: inline, $top : $pad/2, $left: $pad/4)  {
  li {
    a {
      padding: $top $left;
      display: $display;
    }
    
    &.active, &:hover {
      a {
        @include invert($background, $highlight);
      }
    }
  }
}





/* Typography
--------------------------------------------------------------------------------
*/


/* Text styles
*/


@mixin text-headings {
  @include font-headings;
  line-height: $line-height-headings;
}

/* Article title in thumbs
*/
@mixin text-article-title {
  @include text-headings;
}

@mixin text-article-excerpt {
  line-height: 1.5;
}


@mixin text-body {
  @include font-body;
  line-height: $line-height-body-text;
  
  h1, h2, h3 { padding:1.51785em 0; }
}


@mixin text-navigation {
  @include font-body;
  @include uppercase;
  font-size: small;
}


@mixin text-heading-large {
  @include text-headings;
}


@mixin section-title {
  display: block;
  @include text-navigation;
  @include link($highlight);
  color: $highlight;
}

@mixin h1 {
  font-size: 1.16667em;
}



/* From http://lamb.cc/typograph/ using traditional / em scaling
*/
h1, h2, h3 { margin-top:0; margin-bottom:0; }
h1, h2, h3 {  font-size:1.16667em;  }




/* Headings
*/
h1, h2, h3, h4, h4, h6 {
  @include text-headings;
}

h1 {
  font-weight: 700;
}


@mixin uppercase {
  text-transform: uppercase;
  letter-spacing: $letter-spacing-uppercase;
}



/* Images
--------------------------------------------------------------------------------
*/

@mixin fluid-image{
  img {
    width: auto;
    height: auto;
    max-width: 100%;
  }
}



/* Decorations
--------------------------------------------------------------------------------
*/


@mixin invert($c: $background, $b: $color) {
  color: $c;
  background: $b;
  
  @include link($c, $c);
}



/* Links
*/

@import "compass/typography/links/link-colors";
@mixin link($c: $color, $h: $highlight) {
  a {
    @include link-colors($c, $h);
    text-decoration: none;
  }
}


